server:
  port: ${SERVER_PORT:8080}
  forward-headers-strategy: framework
  error:
    include-message: never
    include-exception: false
    include-stacktrace: never
    include-binding-errors: never

logging:
  level:
    root: INFO
    com.shkgroups: INFO
    org.springframework.web: WARN
    org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver: WARN

spring:
  datasource:
    hikari:
      minimum-idle: ${DB_POOL_MIN_IDLE:2}
      maximum-pool-size: ${DB_POOL_MAX_SIZE:10}
      pool-name: AgentHikariPool
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        format_sql: false
    open-in-view: false

  flyway:
    enabled: true

management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: never
      probes:
        enabled: true

app:
  api-key:
    enabled: ${APP_API_KEY_ENABLED:true}
    header: ${APP_API_KEY_HEADER:X-Api-Key}
    key: ${APP_API_KEY_KEY}

  agent:
    base-url: ${APP_AGENT_BASE_URL}

  mercadopago:
    access-token: ${MP_ACCESS_TOKEN}
    base-url: ${MP_BASE_URL:https://api.mercadopago.com}
    webhook-token: ${MP_WEBHOOK_TOKEN}
    n8n-webhook-url: ${N8N_MP_WEBHOOK_URL}
    notification-url: ${MP_NOTIFICATION_URL}

  evolution:
    base-url: ${EVOLUTION_BASE_URL}
    api-key: ${EVOLUTION_API_KEY}
    instance-path-prefix: ${EVOLUTION_INSTANCE_PATH_PREFIX:/instance}
